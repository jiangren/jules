# 第23课：超级风扇 (Fan Controller)

夏天到了，我们需要一个电风扇。但是这个风扇不仅能吹风，还能调节风力大小，甚至倒着吹！

## 🎯 目标
学习使用 L298N 电机驱动模块控制直流电机 (DC Motor)。

## 🛠 硬件清单
*   Arduino Uno 主板
*   直流马达 (Item 19, 带线的小马达)
*   电机风扇叶 (Item 36)
*   L298N 电机驱动板 (Item 84, 一个有很多散热片的大模块)
*   9V 电池 + 电池扣 (Item 34, 35) —— **重要：电机耗电大，建议用独立电源供电**

## 🔌 接线说明
L298N 模块接线稍微复杂一点：

| L298N 接口 | 连到哪里 | 说明 |
| :--- | :--- | :--- |
| **12V** (输入) | **9V电池正极 (红)** | 给电机供电 |
| **GND** (地) | **9V电池负极 (黑)** | **并且**还要连一根线到 Arduino 的 **GND** (共地) |
| **5V** (输出) | (不接) | 如果你需要用它给 Arduino 供电才接，否则悬空 |
| **ENA** (通道A使能) | **Pin 9** | 拔掉跳线帽，接 PWM 口控制速度 |
| **IN1** | **Pin 8** | 逻辑输入 |
| **IN2** | **Pin 7** | 逻辑输入 |
| **OUT1, OUT2** | **马达两根线** | 输出给马达 |

**⚠️ 警告**：一定要把 Arduino 的 GND 和 电池的负极连在一起（共地），否则控制信号没回路，电机不动。

## 🧩 玩耍指南 (给小朋友)
1.  **准备**：装上扇叶。
2.  **观察**：“呼——”风扇转起来了，风好大！
3.  **变化**：风变小了... 停了... 咦？风扇反着转了？把手放在后面感觉一下有没有风？

## 💻 代码解析 (给大人)

### 为什么不能直接把马达插 Arduino 上？
*   马达是“大胃王”，电流很大。Arduino 的引脚像细水管，只能流过一点点电（40mA）。马达一转，就把 Arduino 烧坏了。
*   L298N 就像“大水阀”，Arduino 用微小的力气控制水阀开关，让大电流（电池）流向马达。

### 控制逻辑
*   `IN1` 和 `IN2` 决定方向：
    *   HIGH / LOW -> 正转
    *   LOW / HIGH -> 反转
    *   LOW / LOW -> 停止
*   `ENA` 决定速度 (PWM)：
    *   类似调节 LED 亮度，255 最快，0 停止。
